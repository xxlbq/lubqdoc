

--============   clean his ;

    TRUNCATE JHF_ALIVE_ORDER;
    TRUNCATE JHF_ORDER_STATUS_HISTORY;
    TRUNCATE JHF_ALIVE_CONTRACT;
    TRUNCATE JHF_ALIVE_EXECUTION;
    TRUNCATE JHF_HEDGE_CUSTTRADE;
    TRUNCATE JHF_HEDGE_CUSTTRADE_HISTORY;

    TRUNCATE JHF_CUSTOMER_SESSION;
    TRUNCATE JHF_USER_LOGIN_LOG;
    UPDATE JHF_CASH_BALANCE SET CASH_BALANCE = '10000000000' ;


--============= query result 


SELECT count(*) FROM JHF_ALIVE_ORDER where EXECUTION_TYPE = 0;
SELECT count(*) FROM JHF_ALIVE_ORDER where ORDER_STATUS = 3 and EXECUTION_TYPE = 0;
SELECT count(*) FROM JHF_ALIVE_ORDER where CURRENCY_PAIR = 'USD/JPY'
SELECT count(*) FROM JHF_ALIVE_CONTRACT;

-- === loss cut
SELECT count(*) FROM JHF_ALIVE_ORDER WHERE EXECUTION_TYPE = 8 AND ORDER_STATUS = 3;
SELECT count(*) FROM JHF_ALIVE_ORDER WHERE EXECUTION_TYPE = 0 AND ORDER_STATUS = 11;





SELECT * FROM JHF_ALIVE_ORDER WHERE EXECUTION_TYPE = 8 and ORDER_STATUS = 3 limit 10;

-- === realtime 
SELECT count(*) FROM JHF_ALIVE_ORDER WHERE EXECUTION_TYPE = 12 AND ORDER_STATUS = 3;
SELECT count(*) FROM JHF_ALIVE_ORDER WHERE EXECUTION_TYPE = 12 AND ORDER_STATUS = 6;

-- === opm 
SELECT COUNT(*) FROM JHF_ALIVE_ORDER WHERE EXECUTION_TYPE = 0 and ORDER_STATUS =3;





SELECT count(*) FROM JHF_ALIVE_ORDER WHERE EXECUTION_TYPE = 0 and ORDER_STATUS <> 3;

SELECT * FROM JHF_ALIVE_ORDER WHERE EXECUTION_TYPE = 0 and ORDER_STATUS =7;

SELECT PRICE_ID,ORDER_PRICE_ID FROM JHF_ALIVE_ORDER WHERE EXECUTION_TYPE = 12 AND ORDER_STATUS = 3 limit 1;
SELECT count(*) FROM JHF_ALIVE_ORDER WHERE EXECUTION_TYPE = 0 and ORDER_STATUS = 3;
SELECT count(*) FROM JHF_ALIVE_ORDER WHERE EXECUTION_TYPE = 12 and ORDER_STATUS = 7;





SELECT COUNT(*) FROM JHF_ALIVE_ORDER WHERE CUSTOMER_ID LIKE '90015%'
;
SELECT * from JHF_CASH_BALANCE where CUSTOMER_ID = '90015025' ;

SELECT * FROM JHF_ALIVE_ORDER WHERE CUSTOMER_ID = '90015025';

SELECT * FROM 

SELECT COUNT(*) FROM JHF_CUSTOMER_SESSION
SELECT * FROM JHF_CUSTOMER_SESSION ;
SELECT * FROM JHF_USER_LOGIN_LOG ORDER BY CUSTOMER_ID DESC;


SELECT * FROM JHF_CASH_BALANCE WHERE CUSTOMER_ID LIKE '900050%'

UPDATE JHF_CASH_BALANCE SET CASH_BALANCE = '10000000000'






SELECT * FROM JHF_PRODUCT WHERE CURRENCY_PAIR = 'EUR/JPY' AND USABLE_FLAG = 1 AND ACTIVE_FLAG =1






--- 
SELECT count(*) FROM JHF_ALIVE_ORDER where EXECUTION_TYPE = 8;

SELECT CUSTOMER_ID, count(*) FROM JHF_ALIVE_ORDER where EXECUTION_TYPE = 12 group by CUSTOMER_ID;

SELECT CUSTOMER_ID FROM JHF_ALIVE_ORDER where EXECUTION_TYPE = 12 AND O


SELECT ORDER_STATUS FROM JHF_ALIVE_ORDER where EXECUTION_TYPE = 0 AND ORDER_STATUS =1;



select   version();

SELECT * FROM JHF_ALIVE_ORDER WHERE ORDER_BIND_ID = '2010022500481801'\G;


SELECT * FROM JHF_ALIVE_EXECUTION WHERE ORDER_ID =( 
SELECT ORDER_ID FROM JHF_ALIVE_ORDER WHERE ORDER_BIND_ID = '2010022500481801')\G;


SELECT * FROM JHF_ALIVE_CONTRACT WHERE ORDER_ID =( 
SELECT ORDER_ID FROM JHF_ALIVE_ORDER WHERE ORDER_BIND_ID = '2010022500481801')\G;


SELECT * FROM JHF_HEDGE_CUSTTRADE WHERE ID = (
SELECT EXECUTION_ID FROM JHF_ALIVE_EXECUTION WHERE ORDER_ID =(
 SELECT ORDER_ID FROM JHF_ALIVE_ORDER WHERE ORDER_BIND_ID = '2010021204275008')
)\G;



SELECT * FROM JHF_SYS_POSITION_INSERT WHERE POSITION_SOURCE_ID = (
SELECT EXECUTION_ID FROM JHF_ALIVE_EXECUTION WHERE ORDER_ID =( 
SELECT ORDER_ID FROM JHF_ALIVE_ORDER WHERE ORDER_BIND_ID = '2010022500481801'))\G;



SELECT * FROM JHF_UNREALIZED_CASHFLOW WHERE CASHFLOW_SOURCE_ID = (
SELECT EXECUTION_ID FROM JHF_ALIVE_EXECUTION WHERE ORDER_ID =( 
SELECT ORDER_ID FROM JHF_ALIVE_ORDER WHERE ORDER_BIND_ID = '2010022500481805'))\G;



SELECT * FROM JHF_APP_PROPERTY WHERE PROP_TYPE = 'RATE' AND PROPERTY_KEY = 'ratecacheexpiredtime' ;

SELECT COUNT(*) FROM JHF_CUSTOMER_STATUS
================================

;
SELECT * FROM JHF_STATUS_CONTRL WHERE  CURRENCY_PAIR = 'USD/JPY';
SELECT * FROM JHF_COUNTERPARTY_CURRENCYPAIR WHERE  CURRENCY_PAIR = 'USD/JPY';
SELECT * FROM JHF_ALIVE_ORDER WHERE CUSTOMER_ID = '00000120' AND CUSTOMER_ORDER_NO='T000001137'
==============

show tables;

SELECT * FROM APPLICATION_LOCK

show processlist;;



SELECT * FROM JHF_CUSTOMER_STATUS WHERE CUSTOMER_ID LIKE '9%';
SELECT COUNT(*) FROM JHF_CUSTOMER_STATUS WHERE CUSTOMER_ID LIKE '9%';


SELECT * FROM JHF_PRODUCT WHERE CURRENCY_PAIR = 'USD/JPY';

SELECT * FROM JHF_ALIVE_ORDER WHERE 

SELECT * FROM JHF_ALIVE_CONTRACT WHERE CUSTOMER_ID LIKE '9%'


;
SELECT * FROM JHF_APP_PROPERTY WHERE PROP_TYPE ='RATE'

UPDATE JHF_APP_PROPERTY  SET PROPERTY_VALUE = '120000' WHERE PROP_TYPE = 'RATE' AND PROPERTY_KEY = 'ratecacheperiodtime'




