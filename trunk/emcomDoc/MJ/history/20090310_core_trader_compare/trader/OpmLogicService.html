<html><head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
/* Default heading font (outside of tables) */
body { font-family: sans-serif; font-size: 11pt; }

td { vertical-align: top; padding-left: 4px; padding-right: 4px; }

/* File Difference Report styles - Color */
table.fc { border-top: 1px solid Black; border-left: 1px solid Black; width: 100%; font-family: monospace; font-size: 10pt; }

tr.secBegin td { border-left: none; border-top: none; border-right: 1px solid Black; }
tr.secMiddle td { border-left: none; border-top: none; border-right: 1px solid Black; }
tr.secEnd td { border-left: none; border-top: none; border-bottom: 1px solid Black; border-right: 1px solid Black; }
tr.secAll td { border-left: none; border-top: none; border-bottom: 1px solid Black; border-right: 1px solid Black; }
tr.secSubEnd td { border-left: none; border-top: none; border-bottom: 1px solid Gray; border-right: 1px solid Black; }
tr.secSubAll td { border-left: none; border-top: none; border-bottom: 1px solid Gray; border-right: 1px solid Black; }
tr.secGap td { font-size: 4px; border-left: none; border-top: none; border-bottom: 1px solid Black; border-right: 1px solid Black; }

td.LineNum { text-align: right; }
td.LineRange { font-family: sans-serif; }
td.SubLineRange { font-family: sans-serif; border-bottom: none; }

td.AlignLeft { text-align: left; }
td.AlignRight { text-align: right; }
td.AlignCenter { text-align: center; }
td.Caption { text-align: left; background-color: #E7E7E7; padding-top: 8px; }

td.Normal { }
td.HasSimilar { background-color: #F0F0FF; }
td.HasMismatch { background-color: #FFF0F0; }
td.HasOrphan { background-color: #FFF0F0; }
td.Added { background-color: #FFF0F0; }
td.Deleted { background-color: #FFF0F0; text-decoration: line-through; }
td.UAdded { background-color: #F0F0FF; }
td.UDeleted { background-color: #F0F0FF; text-decoration: line-through; }

.ttSigDiff { color: #FF0000; }
.ttInsigDiff { color: #0000FF; }
.ttAdded { color: #FF0000; }
.ttDeleted { text-decoration: line-through; }

/* Directory Comparison Report styles - Color */
table.dc { border-top: 1px solid Black; border-left: 1px solid Black; width: 100%; font-family: sans-serif; font-size: 10pt; }

table.dc tr.secBegin td { border-bottom: 1px solid Silver; }
table.dc tr.secMiddle td { border-bottom: 1px solid Silver; }

.ttNewer { color: #FF0000; }
.ttOlder { color: #808080; }
.ttOrphan { color: #0000FF; }
.ttGhosted { color: #008080; }
</style>
</head><body>
OpmLogicService<br />
统计日期：2009-3-10 15:39:34<br />
&nbsp; &nbsp;
<br />
模式：差异及上下文 &nbsp;
<br />
&nbsp; &nbsp;
<br />
左侧文件：E:\java\eclipse-3.3-bestwiz-wp\trader\src\cn\bestwiz\jhf\trader\opm\business\OpmLogicService.java &nbsp;
<br />
右侧文件：E:\java\eclipse-3.3-bestwiz-wp\uni-mj-trader\src\cn\bestwiz\jhf\trader\opm\business\OpmLogicService.java &nbsp;
<br />
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="secBegin">
<td class="LineNum">81</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp; * @param orderInfoList -</td>
<td class="AlignCenter">=</td>
<td class="LineNum">81</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp; * @param orderInfoList -</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">82</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contain OrderInfo objects</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">82</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contain OrderInfo objects</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">83</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp; * @return boolean [] - every order change status success or failure.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">83</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp; * @return boolean [] - every order change status success or failure.</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">84</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp; * @throws OpmServiceException</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">84</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp; * @throws OpmServiceException</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">85</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp; */</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">85</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp; */</td>
</tr>
<tr class="secEnd">
<td class="LineNum">86</td>
<td class="Normal">&nbsp;&nbsp;&nbsp; public boolean prepareFillForOpm(OrderInfo orderInfo, String logPrefix,BigDecimal askRate,BigDecimal bidRate,String orderBindId)</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">86</td>
<td class="Normal">&nbsp;&nbsp;&nbsp; public boolean prepareFillForOpm(OrderInfo orderInfo, String logPrefix,BigDecimal askRate,BigDecimal bidRate,String orderBindId)</td>
</tr>
<tr class="secAll">
<td class="LineNum">87</td>
<td class="HasOrphan"><span class="ttInsigDiff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="ttSigDiff">throws</span><span class="ttInsigDiff"> </span><span class="ttSigDiff">OpmServiceException</span></td>
<td class="AlignCenter">+-</td>
<td class="LineNum">&nbsp;</td>
<td class="HasOrphan">&nbsp;</td>
</tr>
<tr class="secBegin">
<td class="LineNum">88</td>
<td class="Normal">&nbsp;</td>
<td class="AlignCenter">=</td>
<td class="LineNum">87</td>
<td class="Normal">&nbsp;</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">89</td>
<td class="Normal">&nbsp;&nbsp;&nbsp; {</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">88</td>
<td class="Normal">&nbsp;&nbsp;&nbsp; {</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">90</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; long startTime = System.currentTimeMillis();</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">89</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; long startTime = System.currentTimeMillis();</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">91</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; boolean bFlagArray = false;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">90</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; boolean bFlagArray = false;</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">92</td>
<td class="Normal">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">91</td>
<td class="Normal">&nbsp;</td>
</tr>
<tr class="secEnd">
<td class="LineNum">93</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">92</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try</td>
</tr>
<tr class="secGap"><td colspan="5">&nbsp;</td></tr>
<tr class="secBegin">
<td class="LineNum">95</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String systemStaffId = ServiceFactory.getCoreService().getSystemStaffId();</td>
<td class="AlignCenter">=</td>
<td class="LineNum">94</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String systemStaffId = ServiceFactory.getCoreService().getSystemStaffId();</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">96</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /**jdbc操作,故不用事务打开关闭操作*/</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">95</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /**jdbc操作,故不用事务打开关闭操作*/</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">97</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bFlagArray = DAOFactory.getOrderDao().prepareFillForOpm(orderInfo,systemStaffId,logPrefix,askRate,bidRate,orderBindId);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">96</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bFlagArray = DAOFactory.getOrderDao().prepareFillForOpm(orderInfo,systemStaffId,logPrefix,askRate,bidRate,orderBindId);</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">98</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">97</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">99</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (Exception e)</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">98</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (Exception e)</td>
</tr>
<tr class="secEnd">
<td class="LineNum">100</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">99</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</td>
</tr>
<tr class="secBegin">
<td class="LineNum">101</td>
<td class="HasMismatch">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="ttInsigDiff">&nbsp;&nbsp;&nbsp;</span><span class="ttInsigDiff"> </span>m_log.error(&quot;error<span class="ttSigDiff"> occu</span>re<span class="ttSigDiff">d at OpmL</span>ogi<span class="ttSigDiff">cS</span>er<span class="ttSigDiff">v</span>i<span class="ttSigDiff">ce.prepa</span>re<span class="ttSigDiff">Fill()&quot;</span>,<span class="ttInsigDiff"> </span>e);</td>
<td class="AlignCenter">&lt;&gt;</td>
<td class="LineNum">100</td>
<td class="HasMismatch">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="ttInsigDiff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>m_log.error(&quot;<span class="ttSigDiff">prepareFillForOpm </span>error<span class="ttSigDiff">,Orde</span>r<span class="ttSigDiff">Info=&quot;+ord</span>e<span class="ttSigDiff">rInfo+&quot;,l</span>og<span class="ttSigDiff">Pref</span>i<span class="ttSigDiff">x=&quot;+logPrefix+&quot;,o</span><span class="ttSigDiff">rd</span>er<span class="ttSigDiff">B</span>i<span class="ttSigDiff">ndId=&quot;+o</span>r<span class="ttSigDiff">d</span>e<span class="ttSigDiff">rBindId</span>,e);</td>
</tr>
<tr class="secEnd">
<td class="LineNum">102</td>
<td class="HasOrphan"><span class="ttInsigDiff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="ttSigDiff">throw</span><span class="ttInsigDiff"> </span><span class="ttSigDiff">new</span><span class="ttInsigDiff"> </span><span class="ttSigDiff">OpmServiceException(e);</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">&nbsp;</td>
<td class="HasOrphan">&nbsp;</td>
</tr>
<tr class="secBegin">
<td class="LineNum">103</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</td>
<td class="AlignCenter">=</td>
<td class="LineNum">101</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">104</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m_log.info(logPrefix + &quot;prepareFill end. Used &quot;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">102</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m_log.info(logPrefix + &quot;prepareFill end. Used &quot;</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">105</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + (System.currentTimeMillis() - startTime) + &quot; ms&quot;);</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">103</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + (System.currentTimeMillis() - startTime) + &quot; ms&quot;);</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">106</td>
<td class="Normal">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">104</td>
<td class="Normal">&nbsp;</td>
</tr>
<tr class="secMiddle">
<td class="LineNum">107</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return bFlagArray;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">105</td>
<td class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return bFlagArray;</td>
</tr>
<tr class="secEnd">
<td class="LineNum">108</td>
<td class="Normal">&nbsp;&nbsp;&nbsp; }</td>
<td class="AlignCenter">&nbsp;</td>
<td class="LineNum">106</td>
<td class="Normal">&nbsp;&nbsp;&nbsp; }</td>
</tr>
</table>
</body></html>
